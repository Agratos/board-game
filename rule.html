<!DOCTYPE html>
<html class="no-js" lang="">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-uWxY/CJNBR+1zjPWmfnSnVxwRheevXITnMqoEIeG1LJrdI0GlVs/9cVSyPYXdcSF"
      crossorigin="anonymous"
    />    
    <script src="http://code.jquery.com/jquery-latest.js"></script>
    <link rel="stylesheet" href="./css/rule.css">
    <script src="dummy/games.json"></script>
    <script tpye="text/javascript">
      let gameListData = JSON.parse(JSON.stringify(Games));

      temp = location.href.split("?");
      data = temp[1].split(":");
      id = data[1];
      
      let ruleData = gameListData[id-1];
      
      function back() {
        history.back();
      }

    </script>
  </head>
  <body>
    <div id="menubar">
      <nav class="navbar navbar-expand navbar-dark bg-dark">
        <a class="navbar-brand">BoardGame Rules</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarsExample02" aria-controls="navbarsExample02" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
      
        <div class="collapse navbar-collapse" id="navbarsExample02" >
          <ul class="navbar-nav mr-auto">
            <li class="nav-item active">
              <a class="nav-link" href="index.html">홈<span class="sr-only"></span></a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="list.html">목록</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="request.html">요청</a>
            </li>
          </ul>
        </div>
      </nav>
    </div>
    <div id="rule-wrapper">
      <script>
        let wrapper = document.getElementById("rule-wrapper");
        let title = document.createElement('h1');
        let titleText = document.createTextNode(ruleData.title);
        title.appendChild(titleText);
        title.setAttribute("id", "rule-title");
        wrapper.appendChild(title);
        
        let img = document.createElement('img');
        img.setAttribute("src", ruleData.image);
        img.setAttribute("id", "rulr-img");
        wrapper.appendChild(img);
        
        if(ruleData.introduce != undefined)
        {
          let rule = ruleData.introduce;

          for(let i = 1 ; i < Object.keys(rule).length+1 ; i++)
          {
            let introduceWrapper = document.createElement('div');
            let introduce = document.createElement('h2');
            let introduceText = document.createTextNode( i + " : " + rule[i]);
            introduceWrapper.className = "rule-introduce";
            introduceWrapper.appendChild(introduce);
            introduce.appendChild(introduceText);
            wrapper.appendChild(introduceWrapper);
          }
        }
        
        let backButtonWrapper = document.createElement('div');
        let backButton = document.createElement('button');
        let backButtonText = document.createTextNode("뒤로가기");
        backButtonWrapper.appendChild(backButton)
        backButtonWrapper.className = "back-button-wrapper";
        backButton.appendChild(backButtonText);
        backButton.className = "back-button";
        backButton.setAttribute("id", "back");
        backButton.addEventListener("click", back, false);
        
        wrapper.appendChild(backButtonWrapper);
      </script>
    </div>
  </body>
</html>
